<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>FPOLY CMS</title>
    <!-- Font Awesome icons (free version)-->
    <script
      src="https://use.fontawesome.com/releases/v5.12.1/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
      rel="stylesheet"
      type="text/css"
    />
    <!-- Third party plugin CSS-->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="images/icons/favicon.ico" />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css" />
    <!--===============================================================================================-->
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/css-hamburgers/hamburgers.min.css"
    />
    <!--===============================================================================================-->
    <link
      rel="stylesheet"
      type="text/css"
      href="vendor/select2/select2.min.css"
    />
    <!--===============================================================================================-->
    <link rel="stylesheet" type="text/css" href="css/login.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
    <script>
      var app = angular.module('myApp',[]);
      app.controller('myController', function($scope,$http){
        $http.get('db/Subjects.js').then(function(response){
          $scope.subjects = response.data;
        });
        $http.get('db/Students.js').then(function(response){
          $scope.students = response.data;
        });

        $scope.user = {};

        $scope.login = function(){
          var i;
          for(i=0; i <$scope.students.length; i++){
            if($scope.students[i].username == $scope.user.username && $scope.students[i].password == $scope.user.password){
              window.location.href = "index.html";
              return 1;
            }else{
              window.location.href = "error-404/index.html";
            }
          }
          return 0;
        }
      });
    </script>
  </head>
  <body id="page-top" ng-controller="myController">
    <!-- Navigation-->
    <nav
      class="navbar navbar-expand-lg navbar-light fixed-top py-3"
      id="mainNav"
    >
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="index.html">FPOLY CMS</a
        ><button
          class="navbar-toggler navbar-toggler-right"
          type="button"
          data-toggle="collapse"
          data-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Example single danger button -->
        <div  class="btn-group" style="padding-right: 10px;">
         
          <button
            type="button"
            class="btn btn-danger dropdown-toggle" 
            id="dropdownMenuButton"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Explore
          </button>
          <div class="dropdown-menu" style="max-height:400px;overflow-y:auto;">
            <button
              type="button"
              class="btn btn-danger"
              onclick="window.location.href = 'all.html';"
              style="padding: 12px 30px 12px 30px; position: relative; left: 10%; margin: 20px;"
            >
              Explore all courses
            </button>
            <a class="dropdown-item" ng-repeat="x in subjects" href="#">{{x.Name}}</a>
          </div>
        </div>
        <form class="form-inline">
          <input
            class="form-control mr-sm-2"
            type="search"
            placeholder="Search"
            aria-label="Search"
          />
          <button class="btn btn-danger my-2 my-sm-0" type="submit">
            <i class="fas fa-search"></i>
          </button>
        </form>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto my-2 my-lg-0">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdownMenuLink"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Account
              </a>
              <div
                class="dropdown-menu"
                aria-labelledby="navbarDropdownMenuLink"
              >
                <a class="dropdown-item" href="signup.html">Sign up</a>
                <a class="dropdown-item" href="login.html">Login</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="index.html">Sign out</a>
                <a class="dropdown-item" href="changepass.html">Change password</a>
                <a class="dropdown-item" href="update.html">Update Account</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">FAQ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="index.html">Contact</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="feedback.html"
                >Feedback</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead">
      <div class="container h-100">
        <div
          class="row h-100 align-items-center justify-content-center text-center"
        >
          <div class="col-lg-10 align-self-end">
            <h1 class="text-uppercase text-white font-weight-bold">
              Login
            </h1>
          </div>
          <div class="col-lg-8 align-self-baseline">
            <p class="text-white-75 font-weight-light mb-5">
              Login to start doing tests. If you don't have accout, you can <a href="signup.html">sign up</a> .
            </p>
          </div>
        </div>
      </div>
    </header>

    <section>
        <div class="container">
            <div class="row">
              <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
                <div class="card card-signin my-5">
                  <div class="card-body">
                    <h5 class="card-title text-center">Login</h5>
                    <form class="form-signin">
                      <div class="form-label-group">
                        <input type="text" id="inputUser" ng-model="user.username" class="form-control" placeholder="Username" required autofocus>
                        <label for="inputUser">Username</label>
                      </div>
        
                      <div class="form-label-group">
                        <input type="password" ng-model="user.password" id="inputPassword" class="form-control" placeholder="Password" required>
                        <label for="inputPassword">Password</label>
                      </div>
        
                      <div class="custom-control custom-checkbox mb-3">
                        <a href="reset.html">Forgot password</a>
                      </div>
                      <button  ng-click="login()" class="btn btn-lg btn-primary btn-block text-uppercase">Login</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </section>

    <footer class="bg-light py-5">
      <div class="container">
        <div class="small text-center text-muted">
          PS09298 - ĐẶNG KIẾN TƯỜNG
        </div>
      </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>

    <!--===============================================================================================-->
    <script src="vendor/select2/select2.min.js"></script>
    <!--===============================================================================================-->
    <script src="vendor/tilt/tilt.jquery.min.js"></script>
    <script>
      $(".js-tilt").tilt({
        scale: 1.1
      });
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-23581568-13");
    </script>

    <!--===============================================================================================-->
    <script src="js/main.js"></script>
  </body>
</html>
